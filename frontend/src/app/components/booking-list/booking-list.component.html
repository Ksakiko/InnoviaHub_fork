<div class="rounded-2xl bg-bg-alt p-3">
  <div
    class="mb-3 flex items-center gap-2 bg-white rounded-full px-3 py-2 border border-border"
  >
    <span class="material-symbols-rounded text-[#993f3b] opacity-70">menu</span>
    <input
      class="flex-1 outline-none text-sm placeholder:text-[#993f3b] opacity-50"
      placeholder="Sök bokning, resurs, användare eller id…"
      [value]="search"
      (input)="onSearchInput($any($event.target).value)"
    />
    <span class="material-symbols-rounded text-[#993f3b] opacity-70"
      >search</span
    >
  </div>

  <div *ngIf="loading" class="text-sm text-heading/70 p-2">
    <span class="material-symbols-rounded text-[#993f3b] opacity-70 spin-slow"
      >autorenew</span
    >
    <span class="m-3 text-lg leading-1 text-[#993f3b] opacity-70"
      >Laddar...</span
    >
  </div>
  <div *ngIf="error" class="text-sm text-error p-2">{{ error }}</div>

  <ul
    class="divide-y divide-border rounded-xl overflow-hidden bg-white border border-border"
  >
    <li
      *ngFor="let b of items"
      (click)="bookingSelected.emit(b.id)"
      class="flex items-center justify-between px-4 py-3 cursor-pointer transition"
      [ngClass]="{
        'bg-bg-alt': b.id === selectedId,
        'hover:bg-bg': b.id !== selectedId
      }"
    >
      <div>
        <div class="font-medium text-heading">
          {{ b.resourceName || "Bokning" }}
        </div>
        <div class="text-xs opacity-70 text-[#993f3b]">
          ID: {{ b.id }} | {{ b.startTime | date : "yyyy-MM-dd HH:mm" }} –
          {{ b.endTime | date : "HH:mm" }} | Av: {{ b.userName || shortGuid(b.userId) }}
        </div>
      </div>
      <span>›</span>
    </li>

    <li
      *ngIf="!loading && !items?.length"
      class="px-4 py-3 text-sm text-heading/70"
    >
      Inga bokningar.
    </li>
  </ul>
</div>
